
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>LatestImageTITLEADDITIONALTEXTINTHEMEBYTCJJ3</title>

<script type="text/javascript">
var titleAdditional = "";
</script>

<script type="text/javascript">
var paused = false;

function showImage() {
	if (!paused) {
		var o = document.getElementById("ScriptSpan"); //document.body;
		while(o.hasChildNodes()) {
			o.removeChild(o.firstChild);
		}
		var sc = document.createElement("script");
		sc.src = "LatestImage.js" + "?t=" + Date.now();
		o.appendChild(sc);
	}
	self.setTimeout("showImage()", 1000);
}

function startToShowImage() {
	setImage();
	showImage();
}

function Callback_Image(url) {
	
	var w = document.documentElement.clientWidth;
	if (w <= 0) w = document.body.clientWidth;
	if (w > 10) w -= 10;
	
	var h = document.documentElement.clientHeight;
	if (h <= 0) h = document.body.clientHeight;
	if (h > 10) h -= 10;
	
	var imgdiv = document.getElementById("ImageDiv");
	imgdiv.height = h + "px";
	imgdiv.style.height = h + "px";
	
	
	if (h >= w) {
		h = w;
		imgdiv.style.display = "table-cell";
	} else {
		w = h;
		imgdiv.style.display = "";
	}
	
	var img = document.getElementById("image");
	if (img.src != url) {
		
		img.width = w;
		img.height = h;
		img.style.width = w;
		img.style.height = h;
		//img.style.position = "absolute";
		img.style.zIndex = -1;
		img.style.verticalAlign = "middle";
		//img.onload = imageOnload;
		//img.onerror = imageError;
		img.onclick = imageOnclick;
		
		img.src = url;
		
		img.onload = function() {
			filename = url;
			i = filename.indexOf("?");
			if (i > -1) filename = filename.substring(0, i);
			j = filename.lastIndexOf("/");
			if (j > -1) filename = filename.substring(j + 1);
			var filenameSpan = document.getElementById("filenameSpan");
			filenameSpan.innerHTML = filename;
			
			document.title = filename + titleAdditional;
		}
	}
}

function setImage() {
	
	var playSpan = document.getElementById("playSpan");
	var pauseSpan = document.getElementById("pauseSpan");
	if (paused) {
		playSpan.style.display = "none";
		pauseSpan.style.display = "inline-block";
	} else {
		playSpan.style.display = "inline-block";
		pauseSpan.style.display = "none";
	}
	
	
	var w = document.documentElement.clientWidth;
	if (w <= 0) w = document.body.clientWidth;
	if (w > 10) w -= 10;
	
	var h = document.documentElement.clientHeight;
	if (h <= 0) h = document.body.clientHeight;
	if (h > 10) h -= 10;
	
	var imgdiv = document.getElementById("ImageDiv");
	imgdiv.height = h + "px";
	imgdiv.style.height = h + "px";
	
	
	if (h >= w) {
		h = w;
		imgdiv.style.display = "table-cell";
	} else {
		w = h;
		imgdiv.style.display = "";
	}
	
	var img = document.getElementById("image");
	img.width = w;
	img.height = h;
	img.style.width = w;
	img.style.height = h;
	//img.style.position = "absolute";
	img.style.zIndex = -1;
	img.style.verticalAlign = "middle";
	//img.onload = imageOnload;
	//img.onerror = imageError;
	img.onclick = imageOnclick;
	
	self.setTimeout("setImage()", 1);
}

function imageOnclick() { // Clicking on the image will pause the update
	paused = !paused;
}

function Callback_LatestFullDisk(json) {
	if (!paused) {
		if (json != null && json.image != null && json.image != "") Callback_Image(json.image);
	}
}

function Callback_LatestFullDisk_fc(json) {
	if (!paused) {
		if (json != null && json.image != null && json.image != "") Callback_Image(json.image);
	}
}

function Callback_LatestMerged(json) {
	if (!paused) {
		if (json != null && json.image != null && json.image != "") Callback_Image(json.image);
	}
}
</script>

<script type="text/javascript">
titleAdditional = "TITLEADDITIONALTEXTINTHEMEBYTCJJ3";
</script>

</head>
<body onload="startToShowImage();" style="background-color: black; color: white; text-align: center; vertical-align: middle; ">

<span id="ScriptSpan"></span>

<div id="ImageDiv" style="text-align: center; vertical-align: middle; ">
<span id="playSpan" style="border-style: solid; border-width: 6px 0px 6px 11px; height: 0px; width: 11px; border-color: transparent transparent transparent white; display: inline-block; transition: all .5s ease;"></span>
<span id="pauseSpan" style="border-style: double; border-width: 0px 0px 0px 11px; height: 11px; width: 11px; display: none; "></span>
<span id="filenameSpan"></span>
<br />
<img id="image" src="" />
</div>

</body>
</html>
